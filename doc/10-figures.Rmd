# Figures


<!-- Age composition -------------------------------------------------------------->

(ref:fig-ages-en) Example age-frequency plot. Female fish are shown as
coloured (or black) circles and male fish are shown behind as light grey
circles. The total number of fish aged for a given survey or fishery and year are
indicated along the top of the panels. Diagonal lines are shown at five-year
intervals to facilitate tracing cohorts through time. 
TODO explain weighting

(ref:fig-ages-fr) Exemple de graphique de la fréquence selon l’âge. Les poissons femelles sont représentés par des cercles colorés (ou noirs), et les poissons mâles sont représentés derrière par des cercles gris clair. Le nombre total de poissons dont l’âge a été déterminé pour un relevé ou une pêcherie et une année donnés est indiqué en haut des panneaux. Les lignes diagonales sont représentées à des intervalles de cinq ans pour faciliter le suivi des cohortes au fl du temps.
TODO translate weighting

```{r fig-ages, fig.cap = ifelse(fr(), "(ref:fig-ages-fr)", "(ref:fig-ages-en)"), fig.asp = 1, out.width = "6in"}

ss <- tidy_ages_weighted(dat$survey_samples, dat_survey_sets = dat$survey_sets,
  sample_type = "survey"
)

ss$survey_abbrev <- factor(ss$survey_abbrev)
s_ages <- plot_ages(ss,
  survey_cols = stats::setNames(
    c("#FC8D62", "#FC8D62", "#FC8D62", "#FC8D62"),
    c("SYN WCHG", "SYN HS", "SYN QCS", "SYN WCVI")
  )
) +
  facet_wrap(~survey_abbrev, nrow = 1, scales = "free_x") +
  guides(fill = "none", colour = "none") +
  theme(
    plot.title = element_blank(),
    axis.title = element_blank()
  )


sc <- tidy_ages_weighted(comm_ss, dat_catch = dat$catch,
  sample_type = "commercial"
) %>% mutate(
  survey_abbrev = "Shoreside"
)

sf <- tidy_ages_weighted(comm_ft, dat_catch = dat$catch,
  sample_type = "commercial"
) %>% mutate(
  survey_abbrev = "Freezer Trawlers"
)

sb <- suppressWarnings(bind_rows(sc, sf))

sb$survey_abbrev <- factor(sb$survey_abbrev)

c_ages <- plot_ages(sb,
  survey_cols = stats::setNames(c("black", "black"), c("Freezer Trawlers", "Shoreside"))
) +
  guides(fill = "none", colour = "none") +
  theme(
    plot.title = element_blank(),
    axis.title = element_blank()
  )

grid.arrange(s_ages, c_ages,
  nrow = 2,
  # heights = c(1.1,1),
  left = en2fr("Ages (years)", fr()),
  bottom = en2fr("Year sampled", fr())
)
```

<!-- Growth -------------------------------------------------------------->

(ref:fig-vb-en) 
The length-age growth curve is a von Bertalanffy model. 
<!-- of the form $L_i \\sim \\operatorname{Log-normal} \\left( \\log(l_\\mathrm{inf} (1 - \\exp(-k (A_i - t_0)))), \\sigma \\right)$ where $L_i$ and $A_i$ represent the length and age of fish $i$, $l_\\mathrm{inf}$, $k$, and $t_0$ represent the von Bertalanffy growth parameters, and $\\sigma$ represents the scale parameter. -->
Female model fits are indicated as solid black lines and male model fits are indicated as dashed grey lines. 
Text on the panels shows the parameter estimates and open grey circles represent individual fish that the models are fit to. 
<!-- These figures include all survey samples.  -->
<!-- `r base_model$dat$start.yr` to `r base_model$dat$end.yr` for `r sp`.  -->

(ref:fig-vb-fr) TODO

```{r fig-vb, fig.cap = ifelse(fr(), "(ref:fig-vb-fr)", "(ref:fig-vb-en)"), out.width = "6in"}
plot_vb_panels <- function(data){
vb_m <- fit_vb(data, sex = "male", method = "tmb",
      too_high_quantile = 1)
vb_f <- fit_vb(data, sex = "female", method = "tmb",
      too_high_quantile = 1)

plot_vb(object_female = vb_f, object_male = vb_m, french = fr()) +
      guides(colour = "none", fill = "none", lty = "none") +
      theme(axis.title = element_blank()) + coord_cartesian(xlim = c(0, 25), ylim = c(0, 75))
      # xlab(en2fr("Age (years)", french)) + ylab(paste0(en2fr("Length",french), " (cm)"))
}

g_cw <- dat$survey_samples %>% 
  filter(survey_series_id %in% c(1, 3, 4, 16)) %>% 
  plot_vb_panels() + ggtitle(en2fr("Coastwide", fr())) 

g_1 <- dat$survey_samples %>% 
  filter(survey_series_id %in% c(1)) %>% 
  plot_vb_panels() + ggtitle(en2fr("SYN QCS (5AB)", fr())) 

g_3 <- dat$survey_samples %>% 
  filter(survey_series_id %in% c(3)) %>% 
  plot_vb_panels() + ggtitle(en2fr("SYN HS (5CD)", fr()))

g_4 <- dat$survey_samples %>% 
  filter(survey_series_id %in% c(4)) %>% 
  plot_vb_panels() + ggtitle(en2fr("SYN WCVI (3CD)", fr())) 

grid.arrange(g_3, g_1, g_4, g_cw,
             ncol = 2,
             left = paste0(en2fr("Length", fr()), " (cm)"),
             bottom = en2fr("Age (years)", fr()))

```



<!-- Maturity -------------------------------------------------------------->

(ref:fig-mat-en) Age- and length-at-maturity ogive plots. Maturity ogives are fit as logistic regressions to individual fish specimens, which are categorized as mature vs. not mature. The solid black lines represent fits to the female fish and the dashed grey lines represent fits to the male fish. The vertical lines indicate the estimated age or length at 50\\% maturity. Text on the panels indicates the estimated age and length at 5, 50 and 95\\% maturity for females (F) and males (M). Model fits are only shown for cases where there are at least 20 mature and 20 immature males and females. Short rug lines along the top and bottom of each panel represent up to 1500 randomly chosen individual fish with a small amount of random jittering in the case of ages to help differentiate individual fish. Models are fit to all available survey samples regardless of time of year. See Appendix H in Anderson et al. (2019) for details.
<!-- `r base_model$dat$start.yr` to `r base_model$dat$end.yr` for `r sp`.  -->

(ref:fig-mat-fr) L’âge-et-la-longueur-à-maturité pour les courbes de fréquences cumulées. Les courbes de fréquences cumulées de maturité sont ajustées en tant que régressions logistiques aux spécimens de poissons individuels, qui sont classés comme étant matures ou non matures. Les lignes noires pleines représentent les ajustements aux poissons femelles et les lignes grises tiretées représentent les ajustements aux poissons mâles. Les lignes verticales indiquent l’âge ou la longueur estimée à 50% de maturité. Le texte sur les panneaux indique l’âge et la longueur estimés à 5, 50 et 95% de maturité pour les femelles (F) et les mâles (M). Les ajustements du modèle ne sont montrés que dans les cas où il y a au moins 20 mâles et 20 femelles matures et 20 mâles et 20 femelles immatures. De courtes lignes le long du haut et du bas de chaque panneau représentent jusqu’à 1 500 poissons individuels choisis au hasard, avec une petite gigue aléatoire dans le cas des âges pour aider à différencier les poissons individuels. Les modèles sont ajustés à tous les échantillons de relevé disponibles, quelle que soit la période de l’année. Voir l'annexe H dans Anderson et al. (2019) pour plus de détails.

```{r fig-mat, fig.cap = ifelse(fr(), "(ref:fig-mat-fr)", "(ref:fig-mat-en)"), fig.asp = 1, out.width = "6in"}
plot_mat_panels <- function(data, type = "age"){
.m <- fit_mat_ogive(data, type = type, sample_id_re = TRUE, year_re = FALSE)

.p <- plot_mat_ogive(.m, prediction_type = "all") +
  guides(colour = "none", fill = "none", lty = "none") +
  ggplot2::guides(lty = "none", colour = "none") +
  theme(axis.title.y = element_blank())
if(type == "age"){
  .p + ggplot2::labs(x = en2fr("Age (years)", fr()), 
                y = en2fr("Probability mature", fr()))
}
if(type == "length"){
  .p + ggplot2::labs(x = paste0(en2fr("Length", fr()), " (cm)"), 
                y = paste0(en2fr("Probability mature", fr()))) 
}
.p
}


ma_cw <- dat$survey_samples %>% 
  filter(survey_series_id %in% c(1, 3, 4, 16)) %>% 
  plot_mat_panels() + 
  ggtitle(en2fr("Coastwide trawl surveys", fr())) 

ml_cw <- dat$survey_samples %>% 
  filter(survey_series_id %in% c(1, 3, 4, 16)) %>% 
  plot_mat_panels(type = "length") + 
  ggtitle("")

ma_1 <- dat$survey_samples %>% 
  filter(survey_series_id %in% c(1)) %>% 
  plot_mat_panels() +
  theme(axis.title = element_blank()) + 
  ggtitle(en2fr("SYN QCS (5AB)", fr())) 

ml_1 <- dat$survey_samples %>% 
  filter(survey_series_id %in% c(1)) %>% 
  plot_mat_panels(type = "length") +
  theme(axis.title = element_blank()) + 
  ggtitle("")

ma_3 <- dat$survey_samples %>% 
  filter(survey_series_id %in% c(3)) %>% 
  plot_mat_panels() +
  theme(axis.title = element_blank()) + 
  ggtitle(en2fr("SYN HS (5CD)", fr()))

ml_3 <- dat$survey_samples %>% 
  filter(survey_series_id %in% c(3)) %>% 
  plot_mat_panels(type = "length") +
  theme(axis.title = element_blank()) + 
  ggtitle("")

ma_4 <- dat$survey_samples %>% 
  filter(survey_series_id %in% c(4)) %>% 
  plot_mat_panels() +
  theme(axis.title = element_blank()) + ggtitle(en2fr("SYN WCVI (3CD)", fr())) 

ml_4 <- dat$survey_samples %>% 
  filter(survey_series_id %in% c(4)) %>% 
  plot_mat_panels(type = "length") +
  theme(axis.title = element_blank()) + 
  ggtitle("")


# # maturities not looked at in the freezer trawl samples
# # and too few from shoreside to be useful
# ma_ss <- comm_ss %>% 
#   filter(!is.na(age)) %>%
#   plot_mat_panels(type = "age") + 
#   theme(axis.title = element_blank()) + 
#   ggtitle(en2fr("Commercial trawl (Shoreside)", fr())) 
# 
# ml_ss <- comm_ss %>% 
#   plot_mat_panels(type = "length") + 
#   theme(axis.title = element_blank()) + 
#   ggtitle("")

grid.arrange(#ma_ss, ml_ss,
             ma_3, ml_3,
             ma_1, ml_1,
             ma_4, ml_4,
             ma_cw, ml_cw,
             ncol = 2,
             left = paste0(en2fr("Probability mature", fr())))
```

 <!-- Length compositions: --------------------------------------------------------->

(ref:fig-lengths-en) Length-frequency plot where female fish are shown as coloured bars and male fish are shown behind as light grey bars. The total number of fish measured for a given survey and year are indicated in the top left corner of each panel. Histograms are only shown if there are more than 20 fish measured for a given survey-year combination. The commercial male and female fish are combined (black bars) since many are unsexed. 
TODO: describe weighting?

(ref:fig-lengths-fr) Graphique de la fréquence selon la longueur où les poissons femelles sont représentés par des barres colorées et les poissons mâles sont représentés derrière par des barres gris clair. Le nombre total de poissons mesurés pour un relevé et une année donnés est indiqué au coin supérieur gauche de chaque panneau. Les histogrammes ne sont présentés que s’il y a plus de 20 poissons mesurés pour une combinaison donnée de relevé et d’année. Les poissons commerciaux mâles et femelles sont combinés (barres noires), car plusieurs d’entre eux ne sont pas sexués. 
TODO: translate weighting description?

```{r fig-lengths, fig.cap = ifelse(fr(), "(ref:fig-lengths-fr)", "(ref:fig-lengths-en)"), fig.asp = 1, out.width = "6in"}

bin_width1 <- diff(quantile(length_samples_survey$length,
  na.rm = TRUE,
  probs = c(0, 1)
)) / 20

bin_width2 <- diff(quantile(length_samples_ft$length,
  na.rm = TRUE, probs = c(0, 1)
)) / 20

bin_width3 <- diff(quantile(length_samples_ss$length,
  na.rm = TRUE, probs = c(0, 1)
)) / 20

bin_width <- mean(c(bin_width1, bin_width2, bin_width3), na.rm = TRUE)

ss <- tidy_lengths_weighted(length_samples_survey,
  dat_survey_sets = dat$survey_sets,
  bin_size = bin_width,
  sample_type = "survey"
)

sf <- length_samples_ft %>%
  mutate(sex = 2) %>% # fake all sex as female for commercial samples; often not sexed
  tidy_lengths_weighted(
    dat_catch = dat$catch,
    bin_size = bin_width,
    sample_type = "commercial", spp_cat_code = 1
  ) %>%
  mutate(
    survey_abbrev = "Freezer Trawlers"
  )

sc <- length_samples_ss %>%
  mutate(sex = 2) %>% # fake all sex as female for commercial samples; often not sexed
  tidy_lengths_weighted(
    dat_catch = dat$catch,
    bin_size = bin_width,
    sample_type = "commercial", spp_cat_code = 1
  ) %>%
  mutate(
    survey_abbrev = "Shoreside"
  )

min_total <- 20

sc_old <- filter(sc, year < 1995) # are we interested in length frequencies pre-1980?
sc <- filter(sc, year > 1995)
sb <- suppressWarnings(bind_rows(ss, sc, sf))
sb$survey_abbrev <- factor(sb$survey_abbrev,
  levels = c(
    "SYN WCHG", "SYN HS", "SYN QCS", "SYN WCVI",
    en2fr("Freezer Trawlers", fr()), en2fr("Shoreside", fr())
  )
)
sb$year <- factor(sb$year, levels = seq(1996, 2021))

g_lengths <- plot_lengths(sb,
  survey_cols = stats::setNames(
    c("#FC8D62", "#FC8D62", "#FC8D62", "#FC8D62", "#000000", "#000000"),
    c(
      "SYN WCHG", "SYN HS", "SYN QCS", "SYN WCVI",
      en2fr("Freezer Trawlers", fr()),
      en2fr("Shoreside", fr())
    )
  ),
  bin_size = bin_width, min_total = min_total
) +
  # scale_x_continuous(breaks = x_breaks, labels = x_labels) +
  guides(colour = "none", fill = "none") +
  ggtitle("") +
  ggplot2::xlab(paste(en2fr("Length", fr()), "(cm)")) +
  ggplot2::ylab(en2fr("Relative length frequency", fr()))

g_lengths
```


<!-- Catch/CPUE -------------------------------------------------------------->

(ref:fig-catch-spatial-en) Spatial distribution of commercial catch from
`r base_model$dat$start.yr` to `r base_model$dat$end.yr` for `r sp`. 
The colour scale is log10 transformed. 
Cells are 7 km wide and are only shown in cases where there are at least 3 unique vessels in a given cell to meet privacy requirements.

(ref:fig-catch-spatial-fr) Distribution spatiale des captures commerciales de
`r base_model$dat$start.yr` à `r base_model$dat$end.yr` pour `r sp`. 
L'échelle de couleurs est transformée en log10. 
Les cellules sont larges de 7 km et ne sont indiquées que dans les cas où il y a au moins trois bateaux uniques dans une cellule donnée pour qu’on puisse satisfaire aux exigences en matière de confdentialité.

```{r fig-catch-spatial, fig.cap = ifelse(fr(), "(ref:fig-catch-spatial-fr)", "(ref:fig-catch-spatial-en)"), out.width = "6in"}
plot_catch_spatial(dat$catch_spatial, 
                   start_year = base_model$dat$start.yr,
                   fill_scale = ggplot2::scale_fill_viridis_c(trans = "log10", option = "D"),
                   colour_scale = ggplot2::scale_colour_viridis_c(trans = "log10", option = "D")
  )
```

(ref:fig-cpue-spatial-en) Spatial distribution of commercial CPUE from
`r base_model$dat$start.yr` to `r base_model$dat$end.yr` for `r sp`.
The colour scale is log10 transformed. 
Cells are 7 km wide and are only shown in cases where there are at least 3 unique vessels in a given cell to meet privacy requirements.


(ref:fig-cpue-spatial-fr) Distribution spatiale de la CPUE commerciales de
`r base_model$dat$start.yr` à `r base_model$dat$end.yr` pour `r sp`.
L'échelle de couleurs est transformée en log10. 
Les cellules sont larges de 7 km et ne sont indiquées que dans les cas où il y a au moins trois bateaux uniques dans une cellule donnée pour qu’on puisse satisfaire aux exigences en matière de confdentialité.


```{r fig-cpue-spatial, fig.cap = ifelse(fr(), "(ref:fig-cpue-spatial-fr)", "(ref:fig-cpue-spatial-en)"), out.width = "6in"}
plot_cpue_spatial(dat$cpue_spatial, 
                  start_year = base_model$dat$start.yr,
                  fill_scale = ggplot2::scale_fill_viridis_c(trans = "log10", option = "D"),
                  colour_scale = ggplot2::scale_colour_viridis_c(trans = "log10", option = "D"))
```

(ref:fig-catch-en) Commercial catch of `r sp` by area.

(ref:fig-catch-fr) Captures commerciales de `r en2fr(sp)` par zone.

```{r fig-catch, fig.cap = ifelse(fr(), "(ref:fig-catch-fr)", "(ref:fig-catch-en)")}
yrs <- sort(unique(catch$year))
plot_catch(catch, french = fr(), xlim = c(min(yrs), max(yrs))) +
  scale_x_continuous(yrs, breaks = seq(min(yrs), yrs[length(yrs)], by = 2)) +
  theme(axis.text.x = element_text(angle = 45, hjust = 0.55, vjust = 0.5))
```

<!-- Biomass and recruitment -------------------------------------------------->

(ref:fig-base-sb-en) Spawning biomass of `r sp` for the base model with
$B_{MSY}$ reference points. The
solid black line is the median of the posteriors, the shaded ribbon
encapsulated by dotted lines covers the 95% Credible interval for the
posteriors, the point at $B_0$ is the median estimate for the unfished
biomass, and the vertical line over that point is the 95% Credible interval
for that parameter.

(ref:fig-base-sb-fr) French here

```{r fig-base-sb, fig.cap = ifelse(fr(), "(ref:fig-base-sb-fr)", "(ref:fig-base-sb-en)")}
plot_biomass_mcmc(base_model,
                  angle_x_labels = TRUE,
                  text_title_size = NULL,
                  show_bmsy_lines = TRUE)
```

(ref:fig-base-sb-bo-en) Spawning biomass of `r sp` for the base model with
$B_0$ reference points. See Figure \@ref(fig:fig-base-sb) for more information.

(ref:fig-base-sb-bo-fr) French here

```{r fig-base-sb-bo, fig.cap = ifelse(fr(), "(ref:fig-base-sb-bo-fr)", "(ref:fig-base-sb-bo-en)")}
plot_biomass_mcmc(base_model,
                  angle_x_labels = TRUE,
                  text_title_size = NULL,
                  show_bo_lines = TRUE)
```

(ref:fig-base-sb-vuln-compare-en) Spawning biomass of `r sp` for the base model compared with vulnerable biomass for the trawl fisheries for the base model. The spawning biomass is in black and has its 95% credible interval shaded. The two blue vulnerable biomass trajectories have their 95% credible interval contained withing the dotted lines of their respective colors.

(ref:fig-base-sb-vuln-compare-fr) French here

```{r fig-base-sb-vuln-compare, fig.cap = ifelse(fr(), "(ref:fig-base-sb-vuln-compare-fr)", "(ref:fig-base-sb-vuln-compare-en)")}
plot_vuln_mcmc(base_model,
               inc_sbt = TRUE,
               quant_df = "sbt_quants",
               angle_x_labels = TRUE)
```
(ref:fig-base-recr-en) Recruitment of `r sp` for the base model. The
black points are the medians of the posteriors, the vertical black lines
are the 95% Credible intervals for the posteriors, the point at $R_0$
is the median estimate for the initial recruitment parameter $R_0$,
and the vertical line over that point and shaded ribbon across the time series
is the 95% Credible interval for that parameter.

(ref:fig-base-recr-fr) Recrutement de `r en2fr(sp)` pour le modèle de base.
Les points noirs de points noirs sont les médianes des postérieurs, les
lignes noires verticales sont les intervalles crédibles à 95 % pour les
valeurs postérieures, le point à $R_0$ est l'estimation médiane du paramètre
de recrutement initial $R_0$ est l'estimation médiane pour le paramètre de
recrutement initial $R_0$, et la ligne verticale sur ce point et le ruban
ombragé sur la série temporelle est l'intervalle crédible à 95% pour ce
paramètre.

```{r fig-base-recr, fig.cap = ifelse(fr(), "(ref:fig-base-recr-fr)", "(ref:fig-base-recr-en)")}
plot_recr_mcmc(base_model, angle_x_labels = TRUE, text_title_size = NULL)
```

<!-- Fishing mortality ------------------------------------------------------->

(ref:fig-base-f-en) Fishing mortality for the base model for the two trawl fisheries. The shaded area represents the 95\\% credible interval.

(ref:fig-base-f-fr) French here

```{r fig-base-f, fig.cap = ifelse(fr(), "(ref:fig-base-f-fr)", "(ref:fig-base-f-en)")}
plot_f_mcmc(base_model, angle_x_labels = TRUE, text_title_size = NULL)
```

<!-- Relative spawning biomass ----------------------------------------------->

(ref:fig-base-depletion-en) Relative spawning biomass for the base model. The shaded area represents the 95% credible interval.

(ref:fig-base-depletion-fr) French here

```{r fig-base-depletion, fig.cap = ifelse(fr(), "(ref:fig-base-depletion-fr)", "(ref:fig-base-depletion-en)")}
plot_biomass_mcmc(base_model,
                  rel = TRUE,
                  angle_x_labels = TRUE,
                  text_title_size = NULL)
```


<!-- MCMC diagnostics -------------------------------------------------------->

(ref:fig-base-priors-posts-en) Prior probability distributions used in the base model (blue shaded areas) overlaid with posterior distribution histograms. The solid red line is the mode of the prior distribution, the vertical solid black line is the mean of the prior, and the vertical dashed black lines represent one standard deviation from the mean. Plots that are entirely shaded blue show uniform priors which are shaded underneath the prior value.

(ref:fig-base-priors-posts-fr)  Distributions de probabilité antérieures utilisées dans le modèle de base (zones ombrées en bleu) superposées aux histogrammes de distribution postérieure. La ligne rouge pleine est le mode de la distribution antérieure, la ligne noire pleine verticale est la moyenne de la distribution antérieure, et les lignes noires pointillées verticales représentent un écart type de la moyenne. Les graphiques qui sont entièrement ombrés en bleu montrent des antériorités uniformes qui sont ombrées sous la valeur de l'antériorité.

```{r fig-base-priors-posts, fig.cap = ifelse(fr(), "(ref:fig-base-priors-posts-fr)", "(ref:fig-base-priors-posts-en)")}
plot_priors_posts_mcmc(base_model, text_title_size = NULL)
```

(ref:fig-base-trace-en) Trace plots for MCMC output of estimated lead parameters in the base model. The MCMC run has chain length `r f(mcmc_chain_length)` with a sample taken every `r f(mcmc_sample_freq)`^th^ iteration. Of the `r f(mcmc_num_samples)` samples taken, the first 1,000 were removed as a burn-in period. $q$ parameters represent catchability for the survey indices, with numerical indices representing: `r paste(base_index_gears$gear, " = ", base_index_gears$gear_name, collapse = ", ")`.

(ref:fig-base-trace-fr) Tracés pour la sortie MCMC des paramètres de plomb estimés dans le modèle de base. L'exécution MCMC a une longueur de chaîne `r f(mcmc_chain_length)` avec un échantillon pris chaque `r f(mcmc_sample_freq)`^ème^ itération. Parmi les `r f(mcmc_num_samples)` échantillons prélevés, les 1 000 premiers ont été retirés pour servir de période de rodage. Les paramètres $q$ représentent la capturabilité pour les indices de l'enquête, les indices numériques représentant : `r paste(base_index_gears$gear, " = ", base_index_gears$gear_name, collapse = ", ")`.

```{r fig-base-trace, fig.cap = ifelse(fr(), "(ref:fig-base-trace-fr)", "(ref:fig-base-trace-en)")}
plot_traces_mcmc(base_model,
                 plot_sel = FALSE, 
                 param_rm = c("m1", "m2", "rho", "vartheta", "ssb",
                              "msy1", "msy2", "fmsy1", "fmsy2", "umsy1", "umsy2",
                              "bmsy", "bo", "sbo"),
                 text_title_size = NULL)
```

(ref:fig-base-autocor-en) Autocorrelation plots for MCMC output of estimated lead parameters in the base model. See Figure \@ref(fig:fig-base-trace) for parameter descriptions.

(ref:fig-base-autocor-fr) Graphiques d'autocorrélation pour la sortie MCMC des paramètres de plomb estimés dans le modèle de base. Voir la figure \@ref(fig:fig-base-trace) pour la description des paramètres.

```{r fig-base-autocor, fig.cap = ifelse(fr(), "(ref:fig-base-autocor-fr)", "(ref:fig-base-autocor-en)")}
plot_autocor_mcmc(base_model, 
                  plot_sel = FALSE, 
                  param_rm = c("m1", "m2", "rho", "vartheta", "ssb",
                               "msy1", "msy2", "fmsy1", "fmsy2", "umsy1", "umsy2",
                               "bmsy", "bo", "sbo"),
                  text_title_size = NULL)
```

(ref:fig-base-trace-selex-en) Trace plots for MCMC output of estimated selectivity parameters in the base model. $\hat{a}$ are the estimates of selectivity-at-age-50%, $\hat{\gamma}$ are the estimated standard deviations on selectivity-at-age-50%. The numerical indices on the two parameters represent: `r paste(base_all_gears$gear, " = ", base_all_gears$gear_name, collapse = ", ")`.

(ref:fig-base-trace-selex-fr) Tracés de la sortie MCMC des paramètres de sélectivité estimés dans le modèle de base. Les $\hat{a}$ sont les estimations de la sélectivité à l'âge de 50 %, les $\hat{\gamma}$ sont les écarts types estimés de la sélectivité à l'âge de 50 %. Les indices numériques sur les deux paramètres représentent : `r paste(base_all_gears$gear, " = ", base_all_gears$gear_name, collapse = ", ")`.

```{r fig-base-trace-selex, fig.cap = ifelse(fr(), "(ref:fig-base-trace-selex-fr)", "(ref:fig-base-trace-selex-en)")}
plot_traces_mcmc(base_model,
                 plot_sel = TRUE, 
                 param_rm = c("m1", "m2", "rho", "vartheta", "ssb",
                              "msy1", "msy2", "fmsy1", "fmsy2", "umsy1", "umsy2",
                              "bmsy", "bo", "sbo"),
                 text_title_size = NULL)
```

(ref:fig-base-autocor-selex-en) Autocorrelation plots for MCMC output of estimated selectivity parameters in the base model. See Figure \@ref(fig:fig-base-trace-selex) for parameter descriptions.

(ref:fig-base-autocor-selex-fr) Graphiques d'autocorrélation pour la sortie MCMC des paramètres de sélectivité estimés dans le modèle de base. Voir la figure \@ref(fig:fig-base-trace-selex) pour la description des paramètres.

```{r fig-base-autocor-selex, fig.cap = ifelse(fr(), "(ref:fig-base-autocor-selex-fr)", "(ref:fig-base-autocor-selex-en)")}
plot_autocor_mcmc(base_model, 
                  plot_sel = TRUE, 
                  param_rm = c("m1", "m2", "rho", "vartheta", "ssb",
                               "msy1", "msy2", "fmsy1", "fmsy2", "umsy1", "umsy2",
                               "bmsy", "bo", "sbo"),
                  text_title_size = NULL)
```

(ref:fig-base-pairs-en) Pairs plots for MCMC estimated parameters in the base model. The lines in the points plots in the lower triangular panels are linear models with shaded 95% confidence intervals. The line plots in the diagonal panels represent density of the parameter values, and the values in the upper triangular panels are the correlations between parameters with text size being directly proportional to the absolute value of those values. See Figure \@ref(fig:fig-base-trace) for parameter descriptions.

(ref:fig-base-pairs-fr) Diagrammes de paires pour les paramètres estimés par MCMC dans le modèle de base. Les lignes dans les tracés de points dans les panneaux triangulaires inférieurs sont des modèles linéaires avec des intervalles de confiance à 95% ombrés. Les tracés de lignes dans les panneaux diagonaux représentent la densité des valeurs des paramètres, et les valeurs dans les panneaux triangulaires supérieurs sont les corrélations entre les paramètres, la taille du texte étant directement proportionnelle à la valeur absolue de ces valeurs. Voir la figure \@ref(fig:fig-base-trace) pour la description des paramètres.

```{r fig-base-pairs, fig.cap = ifelse(fr(), "(ref:fig-base-pairs-fr)", "(ref:fig-base-pairs-en)")}
plot_pairs_mcmc(base_model,
                plot_sel = FALSE,
                param_rm = c("m1", "m2", "rho", "vartheta", "ssb",
                             "msy1", "msy2",
                             "fmsy1", "fmsy2",
                             "umsy1", "umsy2",
                             "bmsy", "bo", "sbo"),
                text_title_size = NULL)
```

(ref:fig-base-pairs-sel-en) Pairs plots for MCMC estimated selectivity parameters in the base model. The lines in the points plots in the lower triangular panels are linear models with shaded 95% confidence intervals. The line plots in the diagonal panels represent density of the parameter values, and the values in the upper triangular panels are the correlations between parameters with text size being directly proportional to the absolute value of those values. See Figure \@ref(fig:fig-base-trace-selex) for parameter descriptions.

(ref:fig-base-pairs-sel-fr) French here

```{r fig-base-pairs-sel, fig.cap = ifelse(fr(), "(ref:fig-base-pairs-sel-fr)", "(ref:fig-base-pairs-sel-en)")}
# Remove 4 and 7 because they are fixed in the model (HSMAS and DCPUE indices) and will produce NAs
plot_pairs_mcmc(base_model,
                plot_sel = TRUE,
                param_rm = c("selage4_male",
                             "selage4_female",
                             "selsd4_male",
                             "selsd4_female",
                             "selage7_male",
                             "selage7_female",
                             "selsd7_male",
                             "selsd7_female"),
                text_title_size = NULL)
```



<!-- Index fits and residuals ------------------------------------------------>

(ref:fig-base-index-fits-en) Index fits for the base model. The light brown points and vertical lines show the index values and CVs; the black points show the medians of the posteriors; the black solid vertical lines show the 95% credible intervals for the posteriors. The two lines connecting points along the time series are only present for aesthetic value.

<!-- The 2014 WCHG Synoptic index point is shown but was not included in the model. -->

(ref:fig-base-index-fits-fr) French here

```{r fig-base-index-fits, fig.cap = ifelse(fr(), "(ref:fig-base-index-fits-fr)", "(ref:fig-base-index-fits-en)")}
plot_index_mcmc(base_model,
                type = "fits",
                surv_index = survey_index,
                leg_loc = NULL,
                text_title_size = NULL)
```

(ref:fig-base-index-resids-en) Index Log standardized residuals. The points are the median of the posteriors for the $\epsilon$ parameter in iSCAM. The vertical lines represent the 95% credible intervals for those posteriors.

(ref:fig-base-index-resids-fr) Indice Log des résidus normalisés. Les points représentent la médiane des valeurs postérieures pour le paramètre $\epsilon$ dans iSCAM. Les lignes verticales représentent les intervalles crédibles à 95 % pour ces valeurs postérieures.

```{r fig-base-index-resids, fig.cap = ifelse(fr(), "(ref:fig-base-index-resids-fr)", "(ref:fig-base-index-resids-en)")}
plot_index_mcmc(base_model,
                type = "resids",
                surv_index = survey_index,
                leg_loc = NULL,
                text_title_size = NULL)
```

\clearpage

<!-- Age fits and residuals -------------------------------------------------->

(ref:fig-base-age-fits-ft-en) Age composition fits for each sex for the Freezer trawler fleet. The black dots with vertical bars are the age composition data points. The red points are the medians of the posteriors for each age. The red shaded area with dotted edge represents the 95% credible intervals. The solid red line that connects the median posterior points is shown for aesthetics.

(ref:fig-base-age-fits-ft-fr) French here

```{r fig-base-age-fits-ft, fig.cap = ifelse(fr(), "(ref:fig-base-age-fits-ft-fr)", "(ref:fig-base-age-fits-ft-en)")}
plot_age_fits_mcmc(base_model, gear = 1, text_title_size = NULL)
```

(ref:fig-base-age-resids-ft-en) Age composition log standardized residuals for each sex for the Freezer trawler fleet. The boxplots have boxes that range from the 25^th^ to 75^th^ percentiles. The whiskers extend to 1.5 x the Interquartile range (IRQ - distance between the first and third quartiles). Plus symbols are outliers from the range of 1.5 x IRQ.

(ref:fig-base-age-resids-ft-fr) French here

```{r fig-base-age-resids-ft, fig.cap = ifelse(fr(), "(ref:fig-base-age-resids-ft-fr)", "(ref:fig-base-age-resids-ft-en)")}
plot_age_resids_mcmc(base_model, gear = 1, text_title_size = NULL)
```

\clearpage

(ref:fig-base-age-fits-ss-firsthalf-en) Age composition fits for each sex for the Shoreside fleet from 1996--2007. The black dots with vertical bars are the age composition data points. The red points are the medians of the posteriors for each age. The red shaded area with dotted edge represents the 95% credible intervals. The solid red line that connects the median posterior points is shown for aesthetics.

(ref:fig-base-age-fits-ss-firsthalf-fr) French here

```{r fig-base-age-fits-firsthalf-ss, fig.cap = ifelse(fr(), "(ref:fig-base-age-fits-ss-firsthalf-fr)", "(ref:fig-base-age-fits-ss-firsthalf-en)")}
plot_age_fits_mcmc(base_model, gear = 2, yrs = 1996:2007, text_title_size = NULL)
```

(ref:fig-base-age-fits-ss-secondhalf-en) Age composition fits for each sex for the Shoreside fleet from 2008--2019. See Figure \@ref(fig:fig-base-age-fits-firsthalf-ss) for plot details.

(ref:fig-base-age-fits-ss-secondhalf-fr) French here

```{r fig-base-age-fits-secondhalf-ss, fig.cap = ifelse(fr(), "(ref:fig-base-age-fits-ss-secondhalf-fr)", "(ref:fig-base-age-fits-ss-secondhalf-en)")}
plot_age_fits_mcmc(base_model, gear = 2, yrs = 2008:2022, text_title_size = NULL)
```

(ref:fig-base-age-resids-ss-en) Age composition log standardized residuals for each sex for the Shoreside fleet. See Figure \@ref(fig:fig-base-age-resids-ft) for plot details.

(ref:fig-base-age-resids-ss-fr) French here

```{r fig-base-age-resids-ss, fig.cap = ifelse(fr(), "(ref:fig-base-age-resids-ss-fr)", "(ref:fig-base-age-resids-ss-en)")}
plot_age_resids_mcmc(base_model, gear = 2, text_title_size = NULL)
```

\clearpage

(ref:fig-base-age-fits-qcs-en) Age composition fits for each sex for the `r qcs`. See Figure \@ref(fig:fig-base-age-fits-ft) for plot details.

(ref:fig-base-age-fits-qcs-fr) French here

```{r fig-base-age-fits-qcs, fig.cap = ifelse(fr(), "(ref:fig-base-age-fits-qcs-fr)", "(ref:fig-base-age-fits-qcs-en)")}
plot_age_fits_mcmc(base_model, gear = 3, text_title_size = NULL)
```

(ref:fig-base-age-resids-qcs-en) Age composition log standardized residuals for each sex for the `r qcs`. See Figure \@ref(fig:fig-base-age-resids-ft) for plot details.

(ref:fig-base-age-resids-qcs-fr) French here

```{r fig-base-age-resids-qcs, fig.cap = ifelse(fr(), "(ref:fig-base-age-resids-qcs-fr)", "(ref:fig-base-age-resids-qcs-en)")}
plot_age_resids_mcmc(base_model, gear = 3, text_title_size = NULL)
```

\clearpage

(ref:fig-base-age-fits-hss-en) Age composition fits for each sex for the `r hss`. See Figure \@ref(fig:fig-base-age-fits-ft) for plot details.

(ref:fig-base-age-fits-hss-fr) French here

```{r fig-base-age-fits-hss, fig.cap = ifelse(fr(), "(ref:fig-base-age-fits-hss-fr)", "(ref:fig-base-age-fits-hss-en)")}
plot_age_fits_mcmc(base_model, gear = 4, text_title_size = NULL)
```

(ref:fig-base-age-resids-hss-en) Age composition log standardized residuals for each sex for the `r hss`. See Figure \@ref(fig:fig-base-age-resids-ft) for plot details.

(ref:fig-base-age-resids-hss-fr) French here

```{r fig-base-age-resids-hss, fig.cap = ifelse(fr(), "(ref:fig-base-age-resids-hss-fr)", "(ref:fig-base-age-resids-hss-en)")}
plot_age_resids_mcmc(base_model, gear = 4, text_title_size = NULL)
```

\clearpage

(ref:fig-base-age-fits-wcvis-en) Age composition fits for each sex for the `r wcvis`. See Figure \@ref(fig:fig-base-age-fits-ft) for plot details.

(ref:fig-base-age-fits-wcvis-fr) French here

```{r fig-base-age-fits-wcvis, fig.cap = ifelse(fr(), "(ref:fig-base-age-fits-wcvis-fr)", "(ref:fig-base-age-fits-wcvis-en)")}
plot_age_fits_mcmc(base_model, gear = 5, text_title_size = NULL)
```

(ref:fig-base-age-resids-wcvis-en) Age composition log standardized residuals for each sex for the `r wcvis`. See Figure \@ref(fig:fig-base-age-resids-ft) for plot details.

(ref:fig-base-age-resids-wcvis-fr) French here

```{r fig-base-age-resids-wcvis, fig.cap = ifelse(fr(), "(ref:fig-base-age-resids-wcvis-fr)", "(ref:fig-base-age-resids-wcvis-en)")}
plot_age_resids_mcmc(base_model, gear = 5, text_title_size = NULL)
```

\clearpage

<!-- (ref:fig-base-age-fits-wchgs-en) Age composition fits for each sex for the `r wchgs`. See Figure \@ref(fig:fig-base-age-fits-ft) for plot details. -->

<!-- (ref:fig-base-age-fits-wchgs-fr) French here -->

<!-- ```{r fig-base-age-fits-wchgs, fig.cap = ifelse(fr(), "(ref:fig-base-age-fits-wchgs-fr)", "(ref:fig-base-age-fits-wchgs-en)")} -->
<!-- plot_age_fits_mcmc(base_model, gear = 6, text_title_size = NULL) -->
<!-- ``` -->

<!-- (ref:fig-base-age-resids-wchgs-en) Age composition log standardized residuals for each sex for the `r wchgs`. See Figure \@ref(fig:fig-base-age-resids-ft) for plot details. -->

<!-- (ref:fig-base-age-resids-wchgs-fr) French here -->

<!-- ```{r fig-base-age-resids-wchgs, fig.cap = ifelse(fr(), "(ref:fig-base-age-resids-wchgs-fr)", "(ref:fig-base-age-resids-wchgs-en)")} -->
<!-- plot_age_resids_mcmc(base_model, gear = 6, text_title_size = NULL) -->
<!-- ``` -->

\clearpage

<!-- Selectivity ------------------------------------------------------------->

(ref:fig-base-selex-en) Estimated and fixed selectivities (Discard CPUE) for each sex for the base model. The dots are estimated selectivity-at-age, the shaded areas around are the 95% credible interval for those estimates. `r qcs` is not shown because it was estimated with time-varying selectivity. See Figure \@ref(fig:fig-base-mcmc-selex-qcs) for those plots.

(ref:fig-base-selex-fr) French goes here

```{r fig-base-mcmc-selex, fig.cap = ifelse(fr(), "(ref:fig-base-selex-fr)", "(ref:fig-base-selex-en)")}
plot_selex_mcmc(base_model)
```

(ref:fig-base-selex-qcs-en) Estimated selectivities for the `r qcs` in the base model. The time series is broken into selectivity blocks of years, `r qcs_sel_ranges`.

(ref:fig-base-selex-qcs-fr) French goes here

```{r fig-base-mcmc-selex-qcs, fig.cap = ifelse(fr(), "(ref:fig-base-selex-qcs-fr)", "(ref:fig-base-selex-qcs-en)")}
plot_selex_gear_mcmc(base_model, gear = 3)
```

<!-- Reference points -------------------------------------------------------->

(ref:fig-base-ref-points-en) Reference point posterior distributions for the base model. Subscripts are 1 = Freezer trawlers and 2 = Shoreside.

(ref:fig-base-ref-points-fr) Distributions postérieures des points de référence pour le modèle de base. Les indices sont 1 = chalutiers congélateurs et 2 = chalutiers côtiers.

```{r fig-base-ref-points, fig.cap = ifelse(fr(), "(ref:fig-base-ref-points-fr)", "(ref:fig-base-ref-points-en)")}
plot_ref_points(base_model)
```

<!-- Sensitivities ----------------------------------------------------------->

<!-- Vartheta and sigma ------------------------------------------------------>

(ref:fig-sens-variance-en) Spawning biomass for sensitivities pertaining to changes in the $\vartheta^2$ and $\rho$ parameters.

(ref:fig-sens-variance-fr) French here

```{r fig-sens-variance, fig.cap = ifelse(fr(), "(ref:fig-sens-variance-fr)", "(ref:fig-sens-variance-en)")}
plot_biomass_mcmc(models$sens_grps[[1]],
                  angle_x_labels = TRUE,
                  text_title_size = NULL,
                  show_bo_lines = TRUE)
```

(ref:fig-sens-variance-rel-en) Relative spawning biomass for sensitivities pertaining to changes in the $\vartheta^2$ and $\rho$ parameters.

(ref:fig-sens-variance-rel-fr) French here

```{r fig-sens-variance-rel, fig.cap = ifelse(fr(), "(ref:fig-sens-variance-rel-fr)", "(ref:fig-sens-variance-rel-en)")}
plot_biomass_mcmc(models$sens_grps[[1]],
                  rel = TRUE,
                  angle_x_labels = TRUE,
                  text_title_size = NULL,
                  show_bo_lines = TRUE)
```

<!-- Tau --------------------------------------------------------------------->

(ref:fig-sens-tau-en) Spawning biomass for sensitivities pertaining to changes in the $\tau$ parameter.

(ref:fig-sens-tau-fr) French here

```{r fig-sens-tau, fig.cap = ifelse(fr(), "(ref:fig-sens-tau-fr)", "(ref:fig-sens-tau-en)")}
plot_biomass_mcmc(models$sens_grps[[2]],
                  angle_x_labels = TRUE,
                  text_title_size = NULL,
                  show_bo_lines = TRUE)
```

(ref:fig-sens-tau-rel-en) Relative spawning biomass for sensitivities pertaining to changes in the $\tau$ parameter.

(ref:fig-sens-tau-rel-fr) French here

```{r fig-sens-tau-rel, fig.cap = ifelse(fr(), "(ref:fig-sens-tau-rel-fr)", "(ref:fig-sens-tau-rel-en)")}
plot_biomass_mcmc(models$sens_grps[[2]],
                  rel = TRUE,
                  angle_x_labels = TRUE,
                  text_title_size = NULL,
                  show_bo_lines = TRUE)
```

<!-- Steepness --------------------------------------------------------------->

(ref:fig-sens-steepness-en) Spawning biomass for sensitivities pertaining to changes in the Steepness ($h$) parameter.

(ref:fig-sens-steepness-fr) French here

```{r fig-sens-steepness, fig.cap = ifelse(fr(), "(ref:fig-sens-steepness-fr)", "(ref:fig-sens-steepness-en)")}
plot_biomass_mcmc(models$sens_grps[[3]],
                  angle_x_labels = TRUE,
                  text_title_size = NULL,
                  show_bo_lines = TRUE)
```

(ref:fig-sens-steepness-rel-en) Relative spawning biomass for sensitivities pertaining to changes in the Steepness ($h$) parameter.

(ref:fig-sens-steepness-rel-fr) French here

```{r fig-sens-steepness-rel, fig.cap = ifelse(fr(), "(ref:fig-sens-steepness-rel-fr)", "(ref:fig-sens-steepness-rel-en)")}
plot_biomass_mcmc(models$sens_grps[[3]],
                  rel = TRUE,
                  angle_x_labels = TRUE,
                  text_title_size = NULL,
                  show_bo_lines = TRUE)
```

<!-- Female M ---------------------------------------------------------------->

(ref:fig-sens-female-m-en) Spawning biomass for sensitivities pertaining to changes in the Female natural mortality ($M_{Female}$) parameter. In the base model, this parameter is fixed. In both sensitivities, it is estimated in addition to the changes in prior. The Male natural mortality parameter remains fixed.

(ref:fig-sens-female-m-fr) French here

```{r fig-sens-female-m, fig.cap = ifelse(fr(), "(ref:fig-sens-female-m-fr)", "(ref:fig-sens-female-m-en)")}
plot_biomass_mcmc(models$sens_grps[[4]],
                  angle_x_labels = TRUE,
                  text_title_size = NULL,
                  show_bo_lines = TRUE)
```

(ref:fig-sens-female-m-rel-en) Relative spawning biomass for sensitivities pertaining to changes in the Female natural mortality ($M_{Female}$) parameter.

(ref:fig-sens-female-m-rel-fr) French here

```{r fig-sens-female-m-rel, fig.cap = ifelse(fr(), "(ref:fig-sens-female-m-rel-fr)", "(ref:fig-sens-female-m-rel-en)")}
plot_biomass_mcmc(models$sens_grps[[4]],
                  rel = TRUE,
                  angle_x_labels = TRUE,
                  text_title_size = NULL,
                  show_bo_lines = TRUE)
```

<!-- Male M ------------------------------------------------------------------>

(ref:fig-sens-male-m-en) Spawning biomass for sensitivities pertaining to changes in the Male natural mortality ($M_{Male}$) parameter. In the base model, this parameter is fixed. In both sensitivities, it is estimated in addition to the changes in prior. The Female natural mortality parameter remains fixed.

(ref:fig-sens-male-m-fr) French here

```{r fig-sens-male-m, fig.cap = ifelse(fr(), "(ref:fig-sens-male-m-fr)", "(ref:fig-sens-male-m-en)")}
plot_biomass_mcmc(models$sens_grps[[5]],
                  angle_x_labels = TRUE,
                  text_title_size = NULL,
                  show_bo_lines = TRUE)
```

(ref:fig-sens-male-m-rel-en) Relative spawning biomass for sensitivities pertaining to changes in the Male natural mortality ($M_{Female}$) parameter.

(ref:fig-sens-male-m-rel-fr) French here

```{r fig-sens-male-m-rel, fig.cap = ifelse(fr(), "(ref:fig-sens-male-m-rel-fr)", "(ref:fig-sens-male-m-rel-en)")}
plot_biomass_mcmc(models$sens_grps[[5]],
                  rel = TRUE,
                  angle_x_labels = TRUE,
                  text_title_size = NULL,
                  show_bo_lines = TRUE)
```

<!-- Catchability ------------------------------------------------------------>

(ref:fig-sens-q-en) Spawning biomass for the sensitivities pertaining to changes in the Catchability ($q_k$) parameters. For these sensitivities all gears ($k$) are modified in the same way.

(ref:fig-sens-q-fr) French here

```{r fig-sens-q-m, fig.cap = ifelse(fr(), "(ref:fig-sens-q-fr)", "(ref:fig-sens-q-en)")}
plot_biomass_mcmc(models$sens_grps[[6]],
                  angle_x_labels = TRUE,
                  text_title_size = NULL,
                  show_bo_lines = TRUE)
```

(ref:fig-sens-q-rel-en) Relative spawning biomass for the sensitivities pertaining to changes in the Catchability ($q_k$) parameters.

(ref:fig-sens-q-rel-fr) French here

```{r fig-sens-q-rel, fig.cap = ifelse(fr(), "(ref:fig-sens-q-rel-fr)", "(ref:fig-sens-q-rel-en)")}
plot_biomass_mcmc(models$sens_grps[[6]],
                  rel = TRUE,
                  angle_x_labels = TRUE,
                  text_title_size = NULL,
                  show_bo_lines = TRUE)
```

<!-- Selectivity ------------------------------------------------------------->

(ref:fig-sens-selex-en) Spawning biomass for the sensitivity in which the Selectivity ($\hat{a}_k$ and $\gamma_k$) parameters are set equal to the maturity for the two commercial trawl gears ($k$).

(ref:fig-sens-selex-fr) French here

```{r fig-sens-selex-m, fig.cap = ifelse(fr(), "(ref:fig-sens-selex-fr)", "(ref:fig-sens-selex-en)")}
plot_biomass_mcmc(models$sens_grps[[7]],
                  angle_x_labels = TRUE,
                  text_title_size = NULL,
                  show_bo_lines = TRUE)
```

(ref:fig-sens-selex-rel-en) Relative spawning biomass for the sensitivities pertaining to changes in the Selectivity ($\hat{a}_k$ and $\gamma_k$) parameters.

(ref:fig-sens-selex-rel-fr) French here

```{r fig-sens-selex-rel, fig.cap = ifelse(fr(), "(ref:fig-sens-selex-rel-fr)", "(ref:fig-sens-selex-rel-en)")}
plot_biomass_mcmc(models$sens_grps[[7]],
                  rel = TRUE,
                  angle_x_labels = TRUE,
                  text_title_size = NULL,
                  show_bo_lines = TRUE)
```


\clearpage
